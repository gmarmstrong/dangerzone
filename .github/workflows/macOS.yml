name: Run commands on different operating systems
os: 
on:
  repository_dispatch:

jobs:
  Build-app-on-macOS:
    name: Build macOS DMG file
    runs-on: macos-12
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-python@4
      - uses: knowsuchagency/poetry-install@67c4e87eec8447ca76fa77f846544a8f95b9a42b
      - run: ./install/macos/build-image.sh
      - run: ./install/macos/build-app.sh
      - uses: actions/upload-artifact@v3.1.0
        with:
          path: "./dist/Dangerzone.app"
